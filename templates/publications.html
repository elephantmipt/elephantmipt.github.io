<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Publications | {{name}}</title>
    <meta name="description" content="Selected publications." />
    <link rel="icon" type="image/svg+xml" href="../favicon.svg" />
    <meta property="og:title" content="Publications | {{name}}" />
    <meta property="og:description" content="Selected publications." />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="{{name}}" />
    <meta property="og:image" content="../assets/img/portrait-cropped.jpg" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Publications | {{name}}" />
    <meta name="twitter:description" content="Selected publications." />
    <meta name="twitter:image" content="../assets/img/portrait-cropped.jpg" />
    <link rel="stylesheet" href="../assets/css/site.css" />
  </head>
  <body>
    <div class="site-shell">
      <nav class="nav">
        <div class="nav-inner">
          <a class="brand" href="../">{{name}}</a>
          <div class="nav-links">
            <a href="../">Home</a>
            <a href="../blog/">Blog</a>
            <a href="./" aria-current="page">Publications</a>
          </div>
        </div>
      </nav>

      <main class="main">
        <h1 class="name">Publications</h1>
        <p class="bio">Selected papers and preprints.</p>

        {{items}}
      </main>

      <footer class="footer">
        <div class="footer-inner">
          <span>Copyright <span data-year></span></span>
        </div>
      </footer>
    </div>

    <script src="../assets/js/site.js"></script>
    <script>
      const burst = (x, y) => {
        const emojis = ["ðŸŽ‰", "âœ¨", "ðŸŽŠ"];
        const el = document.createElement("div");
        el.className = "confetti-burst";
        el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        el.style.left = `${x}px`;
        el.style.top = `${y}px`;
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 1000);
      };

      document.addEventListener("click", async (event) => {
        const btn = event.target.closest(".bibtex-btn");
        if (!btn) return;
        const text = btn.getAttribute("data-bibtex");
        if (!text) return;
        try {
          await navigator.clipboard.writeText(text);
          const original = btn.textContent;
          btn.textContent = "Copied";
          const rect = btn.getBoundingClientRect();
          burst(rect.right - 6, rect.top + rect.height / 2);
          setTimeout(() => {
            btn.textContent = original;
          }, 1200);
        } catch {
          btn.textContent = "Error";
          setTimeout(() => {
            btn.textContent = "BibTeX";
          }, 1200);
        }
      });
    </script>
  </body>
</html>
